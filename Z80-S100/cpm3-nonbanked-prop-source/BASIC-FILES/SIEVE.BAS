5 DEFINT A-Z
10 DIM FLAGS(8190)
20 PRINT "10 iterations"
30 FOR M=1 TO 10
40 COUNT=0
50 FOR I=0 TO 8190
60 FLAGS(I)=1
70 NEXT
80 FOR I=0 TO 8190
90 IF FLAGS(I)=0 GOTO 170
100 PRIME=I+I+3
105 REM print prime
110 K=I+PRIME
120 IF K<=8190 THEN FLAGS(K)=0:K=K+PRIME:GOTO 120
160 COUNT=COUNT+1
170 NEXT
180 NEXT
190 PRINT COUNT,"primes"
195 PRINT CHR$(7)
200 END
210 REM done in 1363 seconds in MBASIC on ATR8000.
220 REM done in 1440 seconds in OBASIC on ATR8000.
RINT CHR$(7)
200 END
210 RE